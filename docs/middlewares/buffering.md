# Buffering

نحوه خواندن درخواست قبل از ارسال آن

<p align="center"><img src="/doc/assets/img/buffering.png"></p>

میان‌افزار Buffering اندازه درخواست‌هایی را که می‌توان به سرویس‌ها ارسال کرد، محدود می‌کند.

با بافرینگ، دژ کل درخواست را در حافظه می‌خواند (احتمالاً درخواست‌های بزرگ را در دیسک بافر می‌کند)، و درخواست‌هایی را که بیش از یک محدودیت اندازه مشخص هستند رد می‌کند.

این می‌تواند به سرویس‌ها کمک کند تا از حجم زیادی از داده‌ها اجتناب کنند (به عنوان مثال، `multipart/form-data`)، و می‌تواند زمان صرف شده برای ارسال داده به یک سرویس را به حداقل برساند.

## MAX Request Body Bytes

گزینه حداکثر اندازه مجاز بدن برای درخواست (بر حسب بایت) را پیکربندی می کند. اگر درخواست بیش از اندازه مجاز باشد، به سرویس ارسال نمی شود و مشتری یک پاسخ `413 (Request Entity Too Large)` دریافت می کند.

## MAX Response Body Bytes

گزینه حداکثر اندازه پاسخ مجاز را از سرویس (بر حسب بایت) پیکربندی می کند. اگر پاسخ بیش از اندازه مجاز باشد، برای مشتری ارسال نمی شود. کلاینت در عوض یک پاسخ `500 (خطای سرور داخلی)` دریافت می کند.